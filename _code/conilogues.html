---
layout: permalink
title: "Conilogues"
date: "2016-02-21"
subtitle: "Meta-post about this website."
---

<p>
Hello, World!
Welcome to my portfolio of art, writing, programming, and brainstorming projects.
One of the projects on display here is this website itself.
It began as a blank slate, and it has grown over time to include many features that help me to display my work effectively.
</p>

<h3>Infrastructure</h3>

<p>
The site itself is static, hosted on <a href="http://github.com" target="_blank">GitHub</a>.
As with most GitHub Pages websites, the pages are generated using <a href="http://jekyllrb.com" target="_blank">Jekyll</a>.
</p>

<p>
The templating is HTML sprinkled with <a href="http://liquidmarkup.org/" target="_blank">Liquid</a> markup.
The styling is a mix of basic CSS and some <a href="http://sass-lang.com/" target="_blank">SASS</a> for convenience.
The scripting is plain JavaScript all the way.
</p>

<h3>Theming</h3>

<p><i>Toggle the website theme in the bottom left.</i></p>

<dl>
  <dt>
    <b>Design</b>
  </dt>
  <dd>
    Each theme consists of roughly eight colors:
    <ul>
      <li>Primary text</li>
      <li>Secondary text</li>
      <li>Primary divider</li>
      <li>Secondary divider</li>
      <li>Primary background</li>
      <li>Secondary background</li>
      <li>Highlight</li>
      <li>Link</li>
    </ul>
    <i>[TODO: Investigate accessibility requirements for the color values in each theme.]</i>
  </dd>
  <dt>
    <b>Styling</b>
  </dt>
  <dd>
    The default theme assigns colors prescriptively to elements.
    Each other theme corresponds to a top-level class on the body, and CSS rules affecting colors are duplicated and overridden using each theme class.
    Only one theme may be active at any time, and the added specificity of the theme class precludes the need to rely on cascade order.
    <br><i>[TODO: Convert to SASS and rely on variables and overrides instead.]</i>
    <br><i>[TODO: Create additional themes.]</i>
  </dd>
  <dt>
    <b>Scripting</b>
  </dt>
  <dd>
    Because the website is static, the theme is persisted across pages and visits by setting a cookie.
    The cookie is checked on page load, and set via the toggle button.
    If cookies are not enabled, the theme toggle is disabled.
  </dd>
</dl>

<h3>Keyboard Accessibility</h3>

<dl>
  <dt>
    <b>Navigation</b>
  </dt>
  <dd>
    <code>TAB</code> navigation is a consistent way to traverse the UI.
    Elements that receive keyboard focus generally have indicative styles enabled.
    A notable exception is the body of each post, which can receive focus for keyboard scrolling.
  </dd>
  <dt>
    <b>Shortcuts</b>
  </dt>
  <dd>
    In addition to being reachable through <code>TAB</code> navigation, each control button on the page has its own keyboard shortcut corresponding to its action.
    Various operations on specific features also have keyboard shortcuts.
    General patterns include:
    <ul>
      <li><code>ESC</code>: cancel/close</li>
      <li><code>ENTER</code>/<code>SPACE</code>: activate/open</li>
      <li><code>UP</code>/<code>DOWN</code>: navigation</li>
      <li><code>LEFT</code>/<code>RIGHT</code>: pagination</li>
    </ul>
  </dd>
</dl>

<h3>Image Viewer</h3>

<i>Click an image to see the overlay.</i>

<dl>
  <dt>
    <b>Templates</b>
  </dt>
  <dd>
    The image overlay is a resident UI element that is dynamically repopulated when an image is clicked.
    It contains all of the styling and logic that governs the image viewing interaction, and the template is included on each page.
    Each image must then be hooked up to the viewer, and this pattern is captured in a reusable template. This template can be included in any post, and accepts one or a list of image URLs as a parameter.
  </dd>
  <dt>
    <b>Scripting</b>
  </dt>
  <dd>
    Most of the complexity of the image viewer lies in the thumbnail navigation for multiple images in a post.
    The viewer does not keep an explicit state of which image is showing, nor does it maintain an ordered list of the thumbnail URLs.
    Instead, it relies on event handling and a consistently maintained DOM state to display the correct image.
    This is dependent on a correct initialization of the viewer, and consistent updates for each navigational event.
  </dd>
</dl>

<h3>Picture Book</h3>

<i>Read a picture book to view this page archetype.</i>

<dl>
  <dt>
    <b>Template</b>
  </dt>
  <dd>
    The picture book viewer is its own reusable page archetype.
    It relies on file structure rather than templating to populate the pages with the right images.
    This makes it possible to compose a book just by saving all the image resources and naming them consistently.
  </dd>
  <dt>
    <b>Navigation</b>
  </dt>
  <dd>
    The book viewer benefits from persistent navigation, which is achieved by maintaining a URL parameter pointing to the current page.
    Direct linking to a page is possible using the URL parameter, which maintains the even/odd page pairings of a physical book.
    All methods of turning the page will update the URL parameter to match.
  </dd>
</dl>

<h3>Chapter Reader</h3>

<i>View a lengthy writing piece to see the chapter reader.</i>

<dl>
  <dt>
    <b>Template</b>
  </dt>
  <dd>
    Unlike most other complex features of the website, the chapter viewer is used directly within a post and can therefore be included multiple times on a page.
    The text content for the post must be contained within chapter-separated DOM elements, which hide the content but make it available to the chapter viewer.
    The chapter viewer itself is a reusable template that pulls from this structure to populate the display with the current chapter's text.
  </dd>
  <dt>
    <b>Navigation</b>
  </dt>
  <dd>
    Navigation in the chapter viewer does not persist across page visits, but the current chapter number is kept as state for each post.
    The input used for display and navigation does some simple validation to prevent navigating to a chapter that does not exist.
    Otherwise, the pagination is treated similarly to other features.
  </dd>
</dl>

<h3>Post Pagination</h3>

<i>[TODO: Implement pagination of posts.]</i>
